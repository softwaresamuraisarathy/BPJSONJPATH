//@version=5
indicator("Big Candle Detector - ATR Method", overlay=true)

// Inputs
atrLength = input.int(14, "ATR Length")
multiplier = input.float(2.0, "ATR Multiplier")

// Calculate ATR and current candle range
atrValue = ta.atr(atrLength)
candleRange = high - low

// Detect big candle
isBigCandle = candleRange > (atrValue * multiplier)

// Visualize: Color the bar and add label
barcolor(isBigCandle ? color.red : na)
if isBigCandle
    label.new(bar_index, high, "Big Candle", yloc=yloc.abovebar, color=color.red, style=label.style_label_down)

// Optional: Plot ATR for reference
plot(atrValue, "ATR", color=color.blue)